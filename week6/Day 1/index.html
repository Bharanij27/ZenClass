<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TypeScript</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        body {
            background-color: lightgrey;
        }

        input {
            display: inline;
        }

        .mid {
            justify-content: center !important;
            display: grid !important;
            justify-content: center;
            align-items: center;
        }
    </style>
</head>

<body>
    <div class="contianer text-center mid">
        <h1>Array methods using TypeScript</h1>
        <label for="basic-url">Give elements as space seperated ',' will be generated automatically</label>
        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon1">Enter Array Values</span>
            <input type="text" class="form-control" id="basic-url" aria-describedby="basic-addon3"
                oninput=getValue(this.value)>
        </div>
        <div class="field1">
            <button type="button" class="btn btn-primary m-3"
                onclick="processInput('chunk array with size 2', 'field1')">chunk</button>
        </div>
        <div class="field2">
            <button type="button" class="btn btn-primary m-3" onclick="processInput('Sum Array', 'field2')">Sum</button>
        </div>
        <div class="field3">
            <button type="button" class="btn btn-primary m-3"
                onclick="processInput('Filter elements divisible by 2', 'field3')">Filter</button>
        </div>
        <div class="field4">
            <button type="button" class="btn btn-primary m-3"
                onclick="processInput('Find element divisible by 5', 'field4')">Find</button>
        </div>
        <div class="field5">
            <button type="button" class="btn btn-primary m-3"
                onclick="processInput('Find maximum value', 'field5')">Reduce</button>
        </div>
    </div>
    </div>
    <script src="index.js"></script>
    <script>
        let validInput = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '0', ' ']
        let input = document.getElementsByClassName('form-control')[0];
        let array = []

        function getValue(value) {
            value = value.split('').filter(data => validInput.includes(data)).join('');
            input.value = value.split(' ').join(', ');
        }

        function processInput(message, element) {
            debugger
            let result;
            array = input.value.split(', ').map(data => +data);
            alert(message);

            if (element == 'field1')
                result = chunk(array, 2);

            else if (element == 'field2')
                result = sum(array);

            else if (element == 'field3')
                result = filter(array);

            else if (element == 'field4')
                result = find(array);

            else
                result = reduce(array);

            let field = document.getElementsByClassName(element)[0];
            while (field.children.length != 1) field.removeChild(field.lastElementChild);
            let paraTag = document.createElement('p');
            paraTag.innerText = message +JSON.stringify(result);
            field.append(paraTag)
        }
    </script>
</body>

</html>